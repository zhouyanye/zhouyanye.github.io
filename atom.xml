<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小周的博客</title>
  
  
  <link href="https://zhouyanye.github.io/atom.xml" rel="self"/>
  
  <link href="https://zhouyanye.github.io/"/>
  <updated>2024-11-12T08:31:32.402Z</updated>
  <id>https://zhouyanye.github.io/</id>
  
  <author>
    <name>小周</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>项目三：11.2网络地址转换实训-外部PC访问内网服务器增加配置</title>
    <link href="https://zhouyanye.github.io/2024/11/08/00/"/>
    <id>https://zhouyanye.github.io/2024/11/08/00/</id>
    <published>2024-11-08T06:23:00.638Z</published>
    <updated>2024-11-12T08:31:32.402Z</updated>
    
    <content type="html"><![CDATA[<ul><li><strong>FW1</strong>：防火墙</li><li><strong>Router-R1</strong>：路由器</li><li><strong>Server-Server1</strong>：服务器</li><li><strong>Client-Client1</strong>：客户端</li></ul><h3 id="设备-1：FW1（防火墙）"><a href="#设备-1：FW1（防火墙）" class="headerlink" title="设备 1：FW1（防火墙）"></a>设备 1：FW1（防火墙）</h3><h4 id="1-配置接口-IP-地址并加入-DMZ-区域"><a href="#1-配置接口-IP-地址并加入-DMZ-区域" class="headerlink" title="1. 配置接口 IP 地址并加入 DMZ 区域"></a>1. 配置接口 IP 地址并加入 DMZ 区域</h4><ol><li>进入防火墙配置模式。</li><li>在防火墙上配置接口 <code>GE0/0/3</code> 的 IP 地址，并将接口加入 DMZ 区域。</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入系统视图</span></span><br><span class="line">system-view</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">配置接口 IP 地址</span></span><br><span class="line">interface GigabitEthernet 0/0/3</span><br><span class="line"> ip address 192.168.6.1 255.255.255.0</span><br><span class="line"> quit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将接口加入 DMZ 区域</span></span><br><span class="line">firewall zone dmz</span><br><span class="line"> add interface GigabitEthernet 0/0/3</span><br><span class="line"> quit</span><br></pre></td></tr></table></figure><h4 id="2-配置-NAT-服务器"><a href="#2-配置-NAT-服务器" class="headerlink" title="2. 配置 NAT 服务器"></a>2. 配置 NAT 服务器</h4><p>NAT 服务器配置会将外部访问 <code>1.1.1.1</code> 的 HTTP 请求映射到内部服务器 <code>192.168.6.2</code> 的 HTTP 服务上。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">NAT 服务器映射配置</span></span><br><span class="line">nat server zone untrust protocol tcp global 1.1.1.1 www inside 192.168.6.2 www</span><br></pre></td></tr></table></figure><h4 id="3-配置防火墙策略"><a href="#3-配置防火墙策略" class="headerlink" title="3. 配置防火墙策略"></a>3. 配置防火墙策略</h4><p>允许从非信任区（untrust）到 DMZ 区域的 HTTP 访问流量。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">配置从非信任区到 DMZ 的策略</span></span><br><span class="line">policy interzone dmz untrust inbound</span><br><span class="line"> policy 1</span><br><span class="line">  action permit</span><br><span class="line">  policy service service-set http</span><br><span class="line">  policy destination 192.168.6.0 0.0.0.255</span><br><span class="line"> quit</span><br></pre></td></tr></table></figure><h4 id="4-配置路由（可选）"><a href="#4-配置路由（可选）" class="headerlink" title="4. 配置路由（可选）"></a>4. 配置路由（可选）</h4><p>如果防火墙没有到 DMZ 网络的静态路由，可以添加以下路由：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加静态路由（如果需要）</span></span><br><span class="line">ip route-static 192.168.6.0 24 192.168.6.1</span><br></pre></td></tr></table></figure><h4 id="5-检查-NAT-和策略配置"><a href="#5-检查-NAT-和策略配置" class="headerlink" title="5. 检查 NAT 和策略配置"></a>5. 检查 NAT 和策略配置</h4><p>使用 display nat server 检查 NAT 配置。<br>使用 display firewall session table 查看是否有针对 HTTP 请求的会话记录。</p><h4 id="6-检查日志（调试用）"><a href="#6-检查日志（调试用）" class="headerlink" title="6. 检查日志（调试用）"></a>6. 检查日志（调试用）</h4><p>如果配置完成后仍然无法访问，可以检查防火墙日志来确认流量是否被阻挡。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">display logbuffer</span><br></pre></td></tr></table></figure><hr><h3 id="设备-2：Router-R1（路由器）"><a href="#设备-2：Router-R1（路由器）" class="headerlink" title="设备 2：Router-R1（路由器）"></a>设备 2：Router-R1（路由器）</h3><p>路由器配置主要确保连接防火墙和客户端的路由通畅。</p><h4 id="配置接口-IP-地址"><a href="#配置接口-IP-地址" class="headerlink" title="配置接口 IP 地址"></a>配置接口 IP 地址</h4><p>根据拓扑图，确保路由器接口的 IP 地址已正确配置（如下）。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">配置 GE0/0/2 接口的 IP 地址（连接防火墙）</span></span><br><span class="line">interface GigabitEthernet 0/0/2</span><br><span class="line"> ip address 1.1.1.2 255.255.255.0</span><br><span class="line"> quit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">配置 GE0/0/1 接口的 IP 地址（连接客户端）</span></span><br><span class="line">interface GigabitEthernet 0/0/1</span><br><span class="line"> ip address 2.1.1.1 255.255.255.0</span><br><span class="line"> quit</span><br></pre></td></tr></table></figure><h4 id="配置静态路由"><a href="#配置静态路由" class="headerlink" title="配置静态路由"></a>配置静态路由</h4><p>确保路由器有通往 <code>192.168.6.0/24</code> 的路由。如果需要，可以添加如下静态路由。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加静态路由到 DMZ 网络</span></span><br><span class="line">ip route-static 192.168.6.0 24 1.1.1.1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入系统视图</span></span><br><span class="line">system-view</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加静态路由到 DMZ 网络，下一跳指向防火墙的 IP 地址 1.1.1.1</span></span><br><span class="line">ip route-static 192.168.6.0 24 1.1.1.1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示当前路由表</span></span><br><span class="line">display ip routing-table</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h3 id="设备-3：Server-Server1（服务器）"><a href="#设备-3：Server-Server1（服务器）" class="headerlink" title="设备 3：Server-Server1（服务器）"></a>设备 3：Server-Server1（服务器）</h3><p>服务器应位于 DMZ 区域，且 IP 地址为 <code>192.168.6.2/24</code>。</p><h4 id="配置服务器-IP-地址"><a href="#配置服务器-IP-地址" class="headerlink" title="配置服务器 IP 地址"></a>配置服务器 IP 地址</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">假设服务器为 Linux 系统，配置 IP 地址如下</span></span><br><span class="line">ifconfig eth0 192.168.6.2 netmask 255.255.255.0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置默认网关（指向防火墙）</span></span><br><span class="line">route add default gw 192.168.6.1</span><br></pre></td></tr></table></figure><p>确保服务器的 HTTP 服务正常运行，例如使用 Apache 或 Nginx，且监听在 <code>80</code> 端口。</p><hr><h3 id="设备-4：Client-Client1（客户端）"><a href="#设备-4：Client-Client1（客户端）" class="headerlink" title="设备 4：Client-Client1（客户端）"></a>设备 4：Client-Client1（客户端）</h3><p>客户端应在非信任区，并通过 IP <code>2.1.1.2</code> 访问。</p><h4 id="配置客户端-IP-地址"><a href="#配置客户端-IP-地址" class="headerlink" title="配置客户端 IP 地址"></a>配置客户端 IP 地址</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">假设客户端为 Linux 系统，配置 IP 地址如下</span></span><br><span class="line">ifconfig eth0 2.1.1.2 netmask 255.255.255.0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置默认网关（指向路由器）</span></span><br><span class="line">route add default gw 2.1.1.1</span><br></pre></td></tr></table></figure><h3 id="访问测试"><a href="#访问测试" class="headerlink" title="访问测试"></a>访问测试</h3><ol><li><p><strong>从 Client-Client1 测试访问</strong>：在客户端通过浏览器或 <code>curl</code> 命令访问 <code>http://1.1.1.1</code>，检查是否能访问到服务器页面。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://1.1.1.1</span><br></pre></td></tr></table></figure></li><li><p><strong>检查防火墙日志</strong>（在 FW1 上）：如果访问失败，请检查防火墙日志以排查问题。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">display logbuffer</span><br></pre></td></tr></table></figure></li></ol><h3 id="保存配置"><a href="#保存配置" class="headerlink" title="保存配置"></a>保存配置</h3><p>在 FW1 和 Router-R1 上保存配置，以确保重启后配置不丢失。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">save</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">* FW1：防火墙
 * Router-R1：路由器
 * Server-Server1：服务器
 * Client-Client1：客户端

设备 1：FW1（防火墙）
1. 配置接口 IP 地址并加入 DMZ 区域
 1. 进入防火墙配置模式。
 2. 在防火墙上配置接口 GE0/0/3 的 IP 地址，并将接口加入 DMZ 区域。

1
2
3
4
5
6
7
8
9
10
11
12


# 进入系统视图
system-view

# 配置接口 IP 地址
interface GigabitEthernet 0/0/3
 ip address 192.168.6.1 255.255.2</summary>
    
    
    
    
    <category term="计算机网络ensp教程" scheme="https://zhouyanye.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9Censp%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Hexo 教程：从 0 到 1 的入门教程</title>
    <link href="https://zhouyanye.github.io/2024/11/01/26/"/>
    <id>https://zhouyanye.github.io/2024/11/01/26/</id>
    <published>2024-11-01T05:35:26.127Z</published>
    <updated>2024-11-12T08:31:32.377Z</updated>
    
    <content type="html"><![CDATA[<p>欢迎来到 <a href="https://hexo.io/">Hexo</a>！在这个教程中，我们将一步一步带你搭建自己的博客。无论你是初学者还是有经验的开发者，Hexo 都能让你轻松创建和管理博客。</p><h2 id="为什么选择-Hexo？"><a href="#为什么选择-Hexo？" class="headerlink" title="为什么选择 Hexo？"></a>为什么选择 Hexo？</h2><ul><li><p><strong>快速</strong>：Hexo 使用静态文件生成，加载速度极快。</p></li><li><p><strong>简洁</strong>：Markdown 支持，让写作变得简单。</p></li><li><p><strong>丰富的主题</strong>：社区提供了多种主题选择，帮助你快速美化博客。</p><span id="more"></span></li></ul><h2 id="快速开始"><a href="#快速开始" class="headerlink" title="快速开始"></a>快速开始</h2><h3 id="1-安装-Hexo"><a href="#1-安装-Hexo" class="headerlink" title="1. 安装 Hexo"></a>1. 安装 Hexo</h3><p>确保你已经安装了 <a href="https://nodejs.org/">Node.js</a>。接下来，打开终端，输入以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-cli -g</span><br></pre></td></tr></table></figure><h3 id="2-创建新博客"><a href="#2-创建新博客" class="headerlink" title="2. 创建新博客"></a>2. 创建新博客</h3><p>在你想要创建博客的目录下，运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init my-blog</span><br><span class="line">$ <span class="built_in">cd</span> my-blog</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><h3 id="3-创建新帖子"><a href="#3-创建新帖子" class="headerlink" title="3. 创建新帖子"></a>3. 创建新帖子</h3><p>创建新帖子非常简单，使用以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;my new post&quot;</span></span><br></pre></td></tr></table></figure><p>在 <code>source/_posts/</code> 目录下，你会看到新生成的 Markdown 文件。</p><h3 id="4-启动本地服务器"><a href="#4-启动本地服务器" class="headerlink" title="4. 启动本地服务器"></a>4. 启动本地服务器</h3><p>运行以下命令启动本地服务器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>然后在浏览器中访问 <a href="http://localhost:4000/">http://localhost:4000</a>，你就能看到你的博客了！</p><h3 id="5-生成静态文件"><a href="#5-生成静态文件" class="headerlink" title="5. 生成静态文件"></a>5. 生成静态文件</h3><p>当你准备好发布博客时，运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>这会在 <code>public/</code> 目录下生成静态文件。</p><h3 id="6-部署到远程网站"><a href="#6-部署到远程网站" class="headerlink" title="6. 部署到远程网站"></a>6. 部署到远程网站</h3><p>配置好 <code>_config.yml</code> 文件中的部署信息后，运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>你的博客就会被部署到远程服务器上！</p><h2 id="进阶用法"><a href="#进阶用法" class="headerlink" title="进阶用法"></a>进阶用法</h2><p>Hexo 的配置文件 <code>_config.yml</code> 中有很多高级选项，例如自定义域名、评论系统、SEO 等。你可以在文档中找到更多信息。</p><h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><p>如果在使用过程中遇到问题，可以参考 <a href="https://hexo.io/docs/">Hexo 文档</a> 或在 <a href="https://github.com/hexojs/hexo/issues">GitHub Issues</a> 提问。</p><h2 id="更多资源"><a href="#更多资源" class="headerlink" title="更多资源"></a>更多资源</h2><ul><li><a href="https://hexo.io/docs/">Hexo 官方文档</a></li><li><a href="https://hexo.io/themes/">Hexo 主题</a></li><li><a href="https://hexo.io/plugins/">Hexo 插件</a></li><li><a href="https://talk.hexo.io/">Hexo 官方论坛</a></li><li><a href="https://github.com/hexojs/awesome-hexo">Hexo 社区</a></li><li><a href="https://hexo.io/blog/">Hexo 官方博客</a></li><li><a href="https://github.com/hexojs/hexo">Hexo 官方仓库</a></li></ul>]]></content>
    
    
    <summary type="html">欢迎来到 Hexo！在这个教程中，我们将一步一步带你搭建自己的博客。无论你是初学者还是有经验的开发者，Hexo 都能让你轻松创建和管理博客。

为什么选择 Hexo？
 * 快速：Hexo 使用静态文件生成，加载速度极快。
   
   
 * 简洁：Markdown 支持，让写作变得简单。
   
   
 * 丰富的主题：社区提供了多种主题选择，帮助你快速美化博客。
   
   

快速开始
1. 安装 Hexo
确保你已经安装了 Node.js。接下来，打开终端，输入以下命令：

1


$ npm install hexo-cli -g


2. 创建新博客
在你想要创建博客的目录下</summary>
    
    
    
    
    <category term="hexo教程" scheme="https://zhouyanye.github.io/tags/hexo%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
</feed>
